{
  "id": "oc-credential-health",
  "name": "IronClaw Credential Health",
  "description": "Agent verifies all credentials it depends on are valid and accessible",
  "agent": "ironclaw",
  "trigger": {
    "schedule": "0 6 * * *",
    "event": "manual"
  },
  "process": [
    "List all Setec secrets with juggler_setec_list()",
    "Verify ANTHROPIC_API_KEY is accessible via juggler_resolve_composite(query='anthropic-api-key')",
    "Verify GITHUB_TOKEN via juggler_resolve_composite(query='github-token')",
    "Verify gateway-token via juggler_setec_get(name='agents/ironclaw/gateway-token')",
    "Verify SSH key exists and has correct permissions",
    "Check Aperture connectivity by calling juggler_aperture_usage(agent='ironclaw')",
    "Report findings: missing credentials, resolution failures, access issues"
  ],
  "tools": [
    "juggler_setec_list",
    "juggler_setec_get",
    "juggler_resolve_composite",
    "juggler_aperture_usage",
    "juggler_audit_log"
  ],
  "targets": [
    {
      "forge": "github",
      "org": "tinyland-inc",
      "repo": "ironclaw"
    }
  ],
  "outputs": {
    "setecKey": "remotejuggler/campaigns/oc-credential-health"
  },
  "guardrails": {
    "maxDuration": "15m",
    "readOnly": true
  }
}

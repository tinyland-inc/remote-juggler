[pytest]
# RemoteJuggler pytest configuration

# Test discovery
testpaths = test/e2e
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test markers
markers =
    gpg: tests requiring GPG and gpg-agent
    tpm: tests requiring TPM 2.0 or swtpm
    secure_enclave: tests requiring macOS Secure Enclave
    yubikey: tests requiring physical YubiKey
    hardware: tests requiring physical hardware (not simulators)
    e2e: end-to-end integration tests
    slow: tests that take more than 10 seconds
    mcp: Model Context Protocol tests
    acp: Agent Context Protocol tests

# Output configuration
addopts =
    -v
    --tb=short
    --strict-markers

# Logging
log_cli = true
log_cli_level = INFO
log_file = pytest.log
log_file_level = DEBUG

# Timeouts (requires pytest-timeout)
timeout = 60

# Skip slow tests by default (run with: pytest -m slow)
# Uncomment to enable:
# addopts = -m "not slow"
